{# templates/championship/elimination.html.twig #}

{% extends 'base.html.twig' %}

{% block title %}Phase d'élimination{% endblock %}

{% block body %}
    <h1>Phase d'élimination</h1>

    {% for round, matches in matches_by_round %}
        <h2>Round {{ round }}</h2>
        
        <ul>
            {% for match in matches %}
                <li>
                    {{ match.blueTeam.name }} vs {{ match.greenTeam.name }} - 
                    {{ match.state.value }}
                </li>
            {% endfor %}
        </ul>

        {# Vérification si tous les matchs du round sont terminés #}
        {% if matches|length > 0 and matches|map(m => m.state.value) is not empty and matches|map(m => m.state.value)|join('') == 'winBluewinGreen' %}
            <a href="{{ path('app_championship_next_round', {'id': championship_list.id}) }}" class="btn btn-primary">
                Passer au round suivant
            </a>
        {% endif %}
    {% endfor %}
{% endblock %}
