{% extends 'base.html.twig' %}

{% block title %}tableau des scores{% endblock %}

{% block body %}


<form method="get" action="{{ path('app_score_table', {'idlist': selected_championship_list.id ?? 0}) }}" class="space-y-4">
    <select name="championshiplist_id" id="championshiplist_id" class="px-4 py-2 border border-gray-600 bg-gray-800 text-white rounded-md w-full sm:w-auto"
    onchange="this.form.submit()">
        <option value="">{{ 'base.selectChamp'|trans }}</option>
        {% for championshipList in championshiplists %}
            <option value="{{ championshipList.id }}" 
                    {% if championshipList.id == selected_championship_list.id %}selected{% endif %}>
                {{ championshipList.ChampionshipName }}
            </option>
        {% endfor %}
    </select>
</form>


    <table class="min-w-full table-auto border-collapse">
    <thead>
        <tr class="bg-gray-500 text-left">
            <th class="px-4 py-2 border-b">{{ 'show.ranking'|trans }}</th>
            <th class="px-4 py-2 border-b">{{ 'new.teamName'|trans }}</th>
            <th class="px-4 py-2 border-b">{{ 'base.score'|trans }}</th>
            <th class="px-4 py-2 border-b">{{ 'score.goalAverage'|trans }}</th>
            <th class="px-4 py-2 border-b">{{ 'show.registerDate'|trans }}</th>
        </tr>
    </thead>
    <tbody>
        {% for team in teams %}
            {% if app.user and team.creator == app.user %}
                <tr class="bg-gray-700 hover:bg-gray-500">
                    <td class="px-4 py-2 border-b">{{ loop.index }}</td>
                    <td class="px-4 py-2 border-b">{{ team.Name }}</td>
                    <td class="px-4 py-2 border-b">{{ team.score }}</td>
                    <td class="px-4 py-2 border-b">{{ team.goalAverage }}</td>
                    <td class="px-4 py-2 border-b">{{ team.inscriptionDate|date('Y-m-d H:i:s') }}</td>
                </tr>
            {% else %}
                <tr class="hover:bg-gray-500">
                    <td class="px-4 py-2 border-b">{{ loop.index }}</td>
                    <td class="px-4 py-2 border-b">{{ team.Name }}</td>
                    <td class="px-4 py-2 border-b">{{ team.score }}</td>
                    <td class="px-4 py-2 border-b">{{ team.goalAverage }}</td>
                    <td class="px-4 py-2 border-b">{{ team.inscriptionDate|date('Y-m-d H:i:s') }}</td>
                </tr>
            {% endif %}
        {% endfor %}
    </tbody>
</table>
{% endblock %}
